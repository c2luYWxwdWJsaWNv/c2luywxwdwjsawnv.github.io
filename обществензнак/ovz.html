<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="referrer" content="no-referrer">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/sinalpublico/ply@main/assets/css/player-v3.1.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/crypto-js.js" async></script>
    <script src="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1" async></script>
    <script src="https://content.jwplatform.com/libraries/KB5zFt7A.js" async></script>
    <script src="https://cdn.jsdelivr.net/npm/disable-devtool@latest" async></script>
    <script>jwplayer.key = 'XSuP4qMl+9tK17QNb+4+th2Pm9AWgMO/cYH8CI0HGGr7bdjo';</script>
    <script>
if (window.top == window.self) {
	window.location.href = "https://google.com";
}

document.addEventListener('contextmenu', event => event.preventDefault());
document.onkeydown = function(e) {
        if (e.ctrlKey && 
            (e.keyCode === 67 || 
             e.keyCode === 86 || 
			 e.keyCode === 83 || 
             e.keyCode === 85 || 
			 e.keyCode === 80 || 
			 e.keyCode === 123 || 
			 e.keyCode === 73 || 
             e.keyCode === 74 ||  
             e.keyCode === 117)) {
            alert('Proibido');
            return false;
        } else {
            return true;
        }
};
	
$(document).bind('keydown', function(e) {
  if(e.ctrlKey && (e.which == 83)) {
    e.preventDefault();
    alert('PROIBIDO');
    return false;
  }
});
$(document).keydown(function (event) {
    if (event.keyCode == 123) { 
        return false;
    } else if (event.ctrlKey && event.shiftKey && event.keyCode == 73) {         
        return false;
    }
});
$(document).on("contextmenu", function (e) {        
    e.preventDefault();
});

function devtoolIsOpening() {
    console.clear();
    let before = new Date().getTime();
    debugger;
    let after = new Date().getTime();
    if (after - before > 200) {
        document.write("Proibido");
        window.location.replace("https://www.google.com");
    }
    setTimeout(devtoolIsOpening, 100);
}
devtoolIsOpening();
</script>
    <style>
        body {
            margin: 0;
        }
        .jwplayer {
            position: absolute !important;
        }
        .jwplayer.jw-flag-aspect-mode {
            min-height: 100%;
            max-height: 100%;
        }
    </style>
</head>

<body>
    <div id="player"></div>

    <script>
        function getQueryParam(param) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(param);
        }

        async function capturarLink() {
            const videoUrl = getQueryParam('m');  
            if (videoUrl) {
                try {
                    const corsUrl = `https://corsproxy.io/?url=https://globosky.fastvpn-350.workers.dev/${encodeURIComponent(videoUrl)}`;

                    const response = await fetch(corsUrl);
                    const html = await response.text();

                    const parser = new DOMParser();
                    const doc = parser.parseFromString(html, 'text/html');
                    const sourceElement = doc.querySelector('source');

                    if (sourceElement) {
                        const videoLink = sourceElement.getAttribute('src');
                        console.log("Link do vídeo encontrado:", videoLink);

                        const videoLinks = [
                            'https://delicate-aaaaaaaaaaaaaaaaaaaaaaaaaa-aaaaaaaaaaaaaaaaaaaaaaaaaa.yimegoh966.workers.dev/' + videoLink,
                            'https://001-dtvott.postasatri.workers.dev/' + videoLink,
                            'https://empty-dtvott-9eed.a3ir7vydoy.workers.dev/' + videoLink,
                            'https://empty-dtvott-7b5f.a3ir7vydoy.workers.dev/' + videoLink,
                            'https://orange-dtvott-o002.o5uftzrqlf.workers.dev/' + videoLink,
                            'https://dtvott-bbc.lissette1794.workers.dev/' + videoLink,
                            'https://0002-dtvott.o5uftzrqlf.workers.dev/' + videoLink
                        ];

                        const randomIndex = Math.floor(Math.random() * videoLinks.length);
                        const fullVideoLink = videoLinks[randomIndex];

                        const playerInstance = jwplayer("player");
                        playerInstance.setup({
                            playlist: [{
                                sources: [{
                                    default: true,
                                    type: "hls",
                                    file: fullVideoLink,
                                    label: "1"
                                }]
                            }],
                            width: "100%",
                            height: "100%",
                            aspectratio: "16:9",
                            autostart: true,
                            cast: {}
                        });

                        document.getElementById('status').textContent = 'Carregando Vídeo';
                    } else {
                        document.getElementById('status').textContent = 'Erro ao encontrar o vídeo.';
                    }
                } catch (error) {
                    console.error('Erro ao carregar o vídeo:', error);
                    document.getElementById('status').textContent = 'Erro ao carregar o vídeo.';
                }
            } else {
                document.getElementById('status').textContent = 'Nenhum parâmetro de ID encontrado.';
            }
        }

        window.onload = capturarLink;
    </script>
</body>

</html>
