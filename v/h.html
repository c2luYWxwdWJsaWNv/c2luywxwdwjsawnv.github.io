<script disable-devtool-auto="" src="https://cdn.jsdelivr.net/npm/disable-devtool@latest"></script>
<script>
if (window.top == window.self) {
	window.location.href = "https://www.google.com.br/";
}

document.addEventListener('contextmenu', event => event.preventDefault());
document.onkeydown = function(e) {
        if (e.ctrlKey && 
            (e.keyCode === 67 || 
             e.keyCode === 86 || 
			 e.keyCode === 83 || 
             e.keyCode === 85 || 
			 e.keyCode === 80 || 
			 e.keyCode === 123 || 
			 e.keyCode === 73 || 
             e.keyCode === 74 ||  
             e.keyCode === 117)) {
            alert('false');
            return false;
        } else {
            return true;
        }
};
	
$(document).bind('keydown', function(e) {
  if(e.ctrlKey && (e.which == 83)) {
    e.preventDefault();
    alert('false');
    return false;
  }
});
$(document).keydown(function (event) {
    if (event.keyCode == 123) { 
        return false;
    } else if (event.ctrlKey && event.shiftKey && event.keyCode == 73) {         
        return false;
    }
});
$(document).on("contextmenu", function (e) {        
    e.preventDefault();
});

function devtoolIsOpening() {
    console.clear();
    let before = new Date().getTime();
    debugger;
    let after = new Date().getTime();
    if (after - before > 200) {
        document.write("false");
        window.location.replace("https://www.google.com.br/");
    }
    setTimeout(devtoolIsOpening, 100);
}
devtoolIsOpening();
</script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/sinalpublico/ply@main/assets/css/player-v3.1.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/crypto-js.js"></script>
    <script src="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
        }

        #player {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            height: 100%;
            width: 100%;
            border: 0;
            overflow: hidden;
        }
    </style>
    <div id="player"></div>
    <script src="https://content.jwplatform.com/libraries/KB5zFt7A.js"></script>
    <script>
jwplayer.key = "XSuP4qMl+9tK17QNb+4+th2Pm9AWgMO/cYH8CI0HGGr7bdjo";

window.addEventListener("load", function () {

  const urlParams = new URLSearchParams(window.location.search);
  const videoId = urlParams.get('m');
  
  if (!videoId) {
    console.error("ID.");
    return;
  }

  const proxyUrl = "https://corsproxy.io/?url=https://sinalpublicodntv.vercel.app/" + videoId;

  function fetchPlayerConfig() {
    fetch(proxyUrl)
      .then(response => response.text())  
      .then(htmlContent => {
        const parser = new DOMParser();
        const doc = parser.parseFromString(htmlContent, "text/html");
        const scripts = doc.querySelectorAll("script");
        let playerScript = null;

        scripts.forEach(script => {
          if (script.textContent.includes("var playerInstance = jwplayer")) {
            playerScript = script.textContent.trim();
          }
        });

        if (playerScript) {

          const fileRegex = /["']file["']\s*:\s*["'](https?:\/\/[^\s]+)["']/g;
          const drmKeyRegex = /["']keyId["']\s*:\s*["']([a-f0-9]{32})["']\s*,\s*["']key["']\s*:\s*["']([a-f0-9]{32})["']/g;
          
          let fileMatch = fileRegex.exec(playerScript);
          let drmKeys = [];
          let videoUrl = fileMatch ? fileMatch[1] : null;


          let keyMatch;
          while ((keyMatch = drmKeyRegex.exec(playerScript)) !== null) {
            drmKeys.push({
              keyId: keyMatch[1],
              key: keyMatch[2]
            });
          }

          if (videoUrl && drmKeys.length > 0) {
            // Configurar o player JWPlayer
            var playerInstance = jwplayer("player");
            playerInstance.setup({
              playlist: [{
                sources: [{
                  default: false,
                  type: "application/dash+xml",
                  file: videoUrl,
                  drm: {
                    clearkey: {
                      keyId: drmKeys[0].keyId,
                      key: drmKeys[0].key
                    }
                  },
                  label: '0'
                }]
              }],
              width: "100%",
              height: "100%",
              aspectratio: "16:9",
              autostart: true,
              cast: {},
              sharing: false
            });
          } else {
            console.error("e");
          }
        } else {
          console.error("e");
        }
      })
      .catch(error => {
        console.error("e", error);
      });
  }

  fetchPlayerConfig();
});
 </script>

</body>
</html>
